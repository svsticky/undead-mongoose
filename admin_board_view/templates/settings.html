{% extends "base.html" %}
{% load static %}
{% block body %}
<article class="row row-cols-2">
  <section class="col">
    <div class="card">
      <div class="card-header">
        <h1 class="flex-grow-1">Categories</h1>
      </div>
      <div class="card-body">
        <table class="table table-striped table-hover text-center align-middle">
          <thead>
            <tr>
              <th>Name</th>
              <th>Alcoholic</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody id="categories">
            <tr id="template-category-item" class="hidden-item">
              <td><input class="form-control" type="text" value={{ category.name }}></td>
              <td><input type="checkbox" {% if category.alcoholic %}checked{% endif %}></td>
              <td><button class="btn btn-danger delete-category" name="{{ category.id }}">Delete</button></td>
            </tr>
            {% for category in categories %}
              <tr class="category-item" id="{{ category.id }}">
                <td><input class="form-control" type="text" value={{ category.name }}></td>
                <td><input type="checkbox" {% if category.alcoholic %}checked{% endif %}></td>
                <td><button class="btn btn-danger delete-category" name="{{ category.id }}">Delete</button></td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
      <div class="card-footer">
        <div class="btn-group btn-group-justified w-100">
          <button id="add-category" class="btn btn-primary w-50">Add new category</button>
          <button id="update-categories" class="btn btn-success w-50">Save changes</button>
        </div>
      </div>
    </div>
  </section>
  <section class="col">
    <div class="card">
      <div class="card-header">
        <h1 class="flex-grow-1">Settings</h1>
      </div>
      <div class="card-body">
        <div>
          <label for="alc_time">Alcohol sale time</label>
          <input id="alc_time" class="form-control" type="time" value="{{ configuration.alc_time|date:'H:i:s' }}">
        </div>
      </div>
      <div class="card-footer">
        <div class="btn-group btn-group-justified w-100">
          <button id="update-settings" class="btn btn-success w-50">Save changes</button>
        </div>
      </div>
    </div>
    <hr/>
    <div class="card">
      <div class="card-header">
        <h1 class="flex-grow-1">VAT</h1>
      </div>
      <div class="card-body">
        <div>
          <table class="table table-striped table-hover text-center align-middle">
            <thead>
              <tr>
                <th>Name</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody id="vat">
              <tr id="template-vat-item" class="hidden-item">
                <td class="input-group">
                  <input class="form-control" type="text" value={{ vat.percentage }}>
                  <span class="input-group-text">%</span>
                </td>
                <td><button class="btn btn-danger delete-vat" name="{{ vat.id }}">Delete</button></td>
              </tr>
              {% for vat in vat %}
                <tr id="{{ vat.id }}" class="vat-item">
                  <td class="input-group">
                    <input class="form-control" type="text" value={{ vat.percentage }}>
                    <span class="input-group-text">%</span>
                  </td>
                  <td><button class="btn btn-danger delete-vat" name="{{ vat.id }}">Delete</button></td>
                </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
      <div class="card-footer">
        <div class="btn-group btn-group-justified w-100">
          <button id="add-vat" class="btn btn-primary w-50">Add new VAT</button>
          <button id="update-vat" class="btn btn-success w-50">Save changes</button>
        </div>
      </div>
    </div>
  </section>
</article>
<script type="text/javascript" src="{% static 'AdminBoardView/settings.js' %}" defer></script>
{% endblock %}
